!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Morpher=e()}(this,(function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function a(t,e,n){return(a=u()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&o(r,n.prototype),r}).apply(null,arguments)}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return a(t,arguments,s(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o(i,t)})(t)}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){var e=u();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h(this,n)}}var f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var v=function(t){var e={exports:{}};return t(e,e.exports),e.exports}((function(t,e){var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();t.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response}));f.fetch||(f.fetch=v);var d=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),i(this,"baseUrl","https://ws3.morpher.ru"),i(this,"token",null),i(this,"timeoutMs",3e3),void 0!==n.baseUrl&&(-1!==n.baseUrl.indexOf("http")?this.baseUrl=n.baseUrl:this.baseUrl="http://"+n.baseUrl),void 0!==n.token&&(this.token=n.token),void 0!==n.timeoutMs&&(this.timeoutMs=n.timeoutMs)}return n(e,[{key:"request",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.METHOD_GET,s=this.isContentBody(i,r),o=s?i.get(e.CONTENT_BODY_KEY):this.buildRequestParams(i),u=this.isPost(r)?this.buildUrl(t):this.buildUrl(t,i),a=s?"text/plain; charset=utf-8":"application/x-www-form-urlencoded",c={method:r,headers:{"Content-Type":a,Accept:"application/json"}};return this.isPost(r)&&(c.body=o),new Promise((function(t,e){var i=setTimeout((function(){return e(new Error("TIMEOUT"))}),n.timeoutMs);n.fetcher(u,c).then((function(e){clearTimeout(i),t(e)})).catch((function(t){clearTimeout(i),e(t)}))}))}},{key:"buildUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=new URL(t,this.baseUrl);return e.forEach((function(t,e){n.searchParams.append(e,t)})),this.token&&n.searchParams.append("token",this.token),n.toString()}},{key:"buildRequestParams",value:function(t){return new URLSearchParams(t).toString()}},{key:"_fetcher",value:function(t,e){return fetch(t,e)}},{key:"fetcher",get:function(){return this._fetcher},set:function(t){this._fetcher=t}},{key:"isContentBody",value:function(t,n){return this.isPost(n)&&1===t.size&&t.has(e.CONTENT_BODY_KEY)}},{key:"isPost",value:function(t){return t.toUpperCase()===e.METHOD_POST}}]),e}();i(d,"METHOD_GET","GET"),i(d,"METHOD_DELETE","DELETE"),i(d,"METHOD_POST","POST"),i(d,"CONTENT_BODY_KEY","Content-Body");var p=d,m=function e(n){t(this,e),void 0!==n["И"]&&(this.nominative=n["И"],this["именительный"]=this.nominative),this.genitive=n["Р"],this["родительный"]=this.genitive,this.dative=n["Д"],this["дательный"]=this.dative,this.accusative=n["В"],this["винительный"]=this.accusative,this.instrumental=n["Т"],this["творительный"]=this.instrumental,this.prepositional=n["П"],this["предложный"]=this.prepositional,void 0!==n["П_о"]&&(this.prepositional_O=n["П_о"],this["предложный_О"]=this.prepositional_O)},g=function e(n){t(this,e),this.name=n["И"],this["имя"]=this.name,this.surname=n["Ф"],this["фамилия"]=this.surname,this.patronymic=n["О"],this["отчество"]=this.patronymic},w=function(e){r(i,e);var n=l(i);function i(e){var r;return t(this,i),r=n.call(this,e),void 0!==e["род"]&&(r.gender=e["род"],r["род"]=r.gender),void 0!==e["множественное"]&&(r.plural=new m(e["множественное"]),r["множественное"]=r.plural),void 0!==e["где"]&&(r.where=e["где"],r.locative=r.where,r.gde=r.where,r["где"]=r.where),void 0!==e["куда"]&&(r.where_to=e["куда"],r.kuda=r.where_to,r["куда"]=r.where_to),void 0!==e["откуда"]&&(r.where_from=e["откуда"],r.whence=r.where_from,r.otkuda=r.where_from,r["откуда"]=r.where_from),void 0!==e["ФИО"]&&(r.fullName=new g(e["ФИО"]),r["фио"]=r.fullName),r}return i}(m),y=function e(n){t(this,e),this.n=new m(n.n),this.unit=new m(n.unit)},E=function(e){r(i,e);var n=l(i);function i(e){return t(this,i),n.call(this,e)}return i}(m),T=function e(n){t(this,e),this.feminine=n.feminine,this["женский"]=this.feminine,this.neuter=n.neuter,this["средний"]=this.neuter,this.plural=n.plural,this["множественное"]=this.plural},_=function e(n){t(this,e),void 0!==n["И"]&&(this.nominative=n["И"],this["именительный"]=this.nominative),void 0!==n["Р"]&&(this.genitive=n["Р"],this["родительный"]=this.genitive),void 0!==n["Д"]&&(this.dative=n["Д"],this["дательный"]=this.dative),void 0!==n["В"]&&(this.accusative=n["В"],this["винительный"]=this.accusative),void 0!==n["Т"]&&(this.instrumental=n["Т"],this["творительный"]=this.instrumental),void 0!==n["П"]&&(this.prepositional=n["П"],this["предложный"]=this.prepositional),void 0!==n["М"]&&(this.locative=n["М"],this["местный"]=this.locative)},O=function e(n){t(this,e),void 0!==n.singular&&(this.singular=new _(n.singular)),void 0!==n.plural&&(this.plural=new _(n.plural)),void 0!==n.gender&&(this.gender=n.gender)},M=function(e){r(i,e);var n=l(i);function i(e,r){var s;return t(this,i),(s=n.call(this,e)).code=r,s}return i}(c(Error)),b=function(){function e(n){t(this,e),i(this,"path","/russian/userdict"),this.communicator=n}return n(e,[{key:"addOrUpdate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new Map;return void 0!==t.singular&&(void 0!==t.singular.nominative&&e.set("И",t.singular.nominative),void 0!==t.singular.genitive&&e.set("Р",t.singular.genitive),void 0!==t.singular.dative&&e.set("Д",t.singular.dative),void 0!==t.singular.accusative&&e.set("В",t.singular.accusative),void 0!==t.singular.instrumental&&e.set("Т",t.singular.instrumental),void 0!==t.singular.prepositional&&e.set("П",t.singular.prepositional),void 0!==t.singular.locative&&e.set("М",t.singular.locative)),void 0!==t.plural&&(void 0!==t.plural.nominative&&e.set("М_И",t.plural.nominative),void 0!==t.plural.genitive&&e.set("М_Р",t.plural.genitive),void 0!==t.plural.dative&&e.set("М_Д",t.plural.dative),void 0!==t.plural.accusative&&e.set("М_В",t.plural.accusative),void 0!==t.plural.instrumental&&e.set("М_Т",t.plural.instrumental),void 0!==t.plural.prepositional&&e.set("М_П",t.plural.prepositional),void 0!==t.plural.locative&&e.set("М_М",t.plural.locative)),this.communicator.request(this.path,e,p.METHOD_POST).then((function(t){return t.text()})).then((function(t){if(""===t)return!0;var e={};try{e=JSON.parse(t)}catch(t){throw new Error(t.message)}if(e.message&&e.code)throw new M(e.message,e.code)}))}},{key:"getAll",value:function(){return this.communicator.request(this.path,new Map,p.METHOD_GET).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return t.map((function(t){return new O(t)}))}))}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Map;return e.set("s",t),this.communicator.request(this.path,e,p.METHOD_DELETE).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return t}))}}]),e}(),P=function(){function e(n){t(this,e),i(this,"prefix","/russian"),this.communicator=n,this.userDict=new b(n)}return n(e,[{key:"declension",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Map;e.set("s",t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.length>0&&e.set("flags",i.join(","));var s=this.prefix+"/declension";return this.communicator.request(s,e,p.METHOD_GET).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return new w(t)}))}},{key:"spell",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new Map;n.set("n",t),n.set("unit",e);var i=this.prefix+"/spell";return this.communicator.request(i,n,p.METHOD_GET).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return new y(t)}))}},{key:"spellOrdinal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new Map;n.set("n",t),n.set("unit",e);var i=this.prefix+"/spell-ordinal";return this.communicator.request(i,n,p.METHOD_GET).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return new y(t)}))}},{key:"spellDate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Map;e.set("date",t);var n=this.prefix+"/spell-date";return this.communicator.request(n,e,p.METHOD_GET).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return new E(t)}))}},{key:"adjectiveGenders",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Map;e.set("s",t);var n=this.prefix+"/genders";return this.communicator.request(n,e,p.METHOD_GET).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return new T(t)}))}},{key:"adjectivize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Map;e.set("s",t);var n=this.prefix+"/adjectivize";return this.communicator.request(n,e,p.METHOD_GET).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return t}))}},{key:"addStressMarks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Map;e.set(p.CONTENT_BODY_KEY,t);var n=this.prefix+"/addstressmarks";return this.communicator.request(n,e,p.METHOD_POST).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return t}))}}]),e}(),k=function e(n){t(this,e),void 0!==n["Н"]&&(this.nominative=n["Н"],this["називний"]=this.nominative),this.genitive=n["Р"],this["родовий"]=this.genitive,this.dative=n["Д"],this["давальний"]=this.dative,this.accusative=n["З"],this["знахідний"]=this.accusative,this.instrumental=n["О"],this["орудний"]=this.instrumental,this.prepositional=n["М"],this["місцевий"]=this.prepositional,this.vocative=n["К"],this["кличний"]=this.vocative},D=function(e){r(i,e);var n=l(i);function i(e){var r;return t(this,i),r=n.call(this,e),void 0!==e["рід"]&&(r.gender=e["рід"],r["рід"]=r.gender),r}return i}(k),j=function e(n){t(this,e),this.n=new k(n.n),this.unit=new k(n.unit)},x=function e(n){t(this,e),void 0!==n["Н"]&&(this.nominative=n["Н"],this["називний"]=this.nominative),void 0!==n["Р"]&&(this.genitive=n["Р"],this["родовий"]=this.genitive),void 0!==n["Д"]&&(this.dative=n["Д"],this["давальний"]=this.dative),void 0!==n["З"]&&(this.accusative=n["З"],this["знахідний"]=this.accusative),void 0!==n["О"]&&(this.instrumental=n["О"],this["орудний"]=this.instrumental),void 0!==n["М"]&&(this.prepositional=n["М"],this["місцевий"]=this.prepositional),void 0!==n["К"]&&(this.vocative=n["К"],this["кличний"]=this.vocative)},q=function e(n){t(this,e),void 0!==n.singular&&(this.singular=new x(n.singular)),void 0!==n.gender&&(this.gender=n.gender)},G=function(){function e(n){t(this,e),i(this,"path","/ukrainian/userdict"),this.communicator=n}return n(e,[{key:"addOrUpdate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new Map;return void 0!==t.singular&&(void 0!==t.singular.nominative&&e.set("Н",t.singular.nominative),void 0!==t.singular.genitive&&e.set("Р",t.singular.genitive),void 0!==t.singular.dative&&e.set("Д",t.singular.dative),void 0!==t.singular.accusative&&e.set("З",t.singular.accusative),void 0!==t.singular.instrumental&&e.set("О",t.singular.instrumental),void 0!==t.singular.prepositional&&e.set("М",t.singular.prepositional),void 0!==t.singular.vocative&&e.set("К",t.singular.vocative)),this.communicator.request(this.path,e,p.METHOD_POST).then((function(t){return t.text()})).then((function(t){if(""===t)return!0;var e={};try{e=JSON.parse(t)}catch(t){throw new Error(t.message)}if(e.message&&e.code)throw new M(e.message,e.code)}))}},{key:"getAll",value:function(){return this.communicator.request(this.path,new Map,p.METHOD_GET).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return t.map((function(t){return new q(t)}))}))}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Map;return e.set("s",t),this.communicator.request(this.path,e,p.METHOD_DELETE).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return t}))}}]),e}(),H=function(){function e(n){t(this,e),i(this,"prefix","/ukrainian"),this.communicator=n,this.userDict=new G(n)}return n(e,[{key:"declension",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Map;e.set("s",t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.length>0&&e.set("flags",i.join(","));var s=this.prefix+"/declension";return this.communicator.request(s,e,p.METHOD_GET).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return new D(t)}))}},{key:"spell",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new Map;n.set("n",t),n.set("unit",e);var i=this.prefix+"/spell";return this.communicator.request(i,n,p.METHOD_GET).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return new j(t)}))}}]),e}(),A=function e(n){t(this,e),void 0!==n.A&&(this.nominative=n.A,this["атау"]=this.nominative),this.genitive=n["І"],this["ілік"]=this.genitive,this.dative=n["Б"],this["барыс"]=this.dative,this.accusative=n["Т"],this["табыс"]=this.accusative,this.ablative=n["Ш"],this["шығыс"]=this.ablative,this.locative=n["Ж"],this["жатыс"]=this.locative,this.instrumental=n["К"],this["көмектес"]=this.instrumental},N=function(e){r(i,e);var n=l(i);function i(e){var r;return t(this,i),(r=n.call(this,e)).firstPerson=new A(e["менің"]),r["менің"]=r.firstPerson,r.secondPerson=new A(e["сенің"]),r["сенің"]=r.secondPerson,r.secondPersonRespectful=new A(e["сіздің"]),r["сіздің"]=r.secondPersonRespectful,r.thirdPerson=new A(e["оның"]),r["оның"]=r.thirdPerson,r.firstPersonPlural=new A(e["біздің"]),r["біздің"]=r.firstPersonPlural,r.secondPersonPlural=new A(e["сендердің"]),r["сендердің"]=r.secondPersonPlural,r.secondPersonRespectfulPlural=new A(e["сіздердің"]),r["сіздердің"]=r.secondPersonRespectfulPlural,r.thirdPersonPlural=new A(e["олардың"]),r["олардың"]=r.thirdPersonPlural,r}return i}(A),R=function(e){r(i,e);var n=l(i);function i(e){var r;return t(this,i),(r=n.call(this,e)).plural=new N(e["көпше"]),r["көпше"]=r.plural,r}return i}(N),U=function(){function e(n){t(this,e),i(this,"prefix","/qazaq"),this.communicator=n}return n(e,[{key:"declension",value:function(t){var e=new Map;e.set("s",t);var n=this.prefix+"/declension";return this.communicator.request(n,e,p.METHOD_GET).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return new R(t)}))}}]),e}(),L=function(){function e(n){t(this,e),this.communicator=new p(n)}return n(e,[{key:"communicator",get:function(){return this._communicator},set:function(t){this._communicator=t}},{key:"russian",get:function(){return new P(this.communicator)}},{key:"ukrainian",get:function(){return new H(this.communicator)}},{key:"qazaq",get:function(){return new U(this.communicator)}},{key:"getQueriesLeft",value:function(){var t=new Map;return this.communicator.request("/get-queries-left",t,p.METHOD_GET).then((function(t){return t.json()})).then((function(t){if(t.message&&t.code)throw new M(t.message,t.code);return t}))}}]),e}();return i(L,"FLAG_FEMININE","feminine"),i(L,"FLAG_MASCULINE","masculine"),i(L,"FLAG_ANIMATE","animate"),i(L,"FLAG_INANIMATE","inanimate"),i(L,"FLAG_COMMON","common"),i(L,"FLAG_NAME","name"),i(L,"FLAG_NEUTER","neuter"),i(L,"FLAG_PLURAL","plural"),L}));
//# sourceMappingURL=morpher.min.js.map
